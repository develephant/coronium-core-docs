



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://develephant.github.io/coronium-core-docs/server/modules/pages/uploads/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../imgs/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.0">
    
    
      
        <title>File Uploads - Coronium Core</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/application.aa3de92b.css">
      
        <link rel="stylesheet" href="../../../../assets/stylesheets/application-palette.792431c1.css">
      
    
    
      <script src="../../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
      <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet" >
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#accessing-uploads" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://develephant.github.io/coronium-core-docs" title="Coronium Core" class="md-header-nav__button md-logo">
          
            <img src="../../../../imgs/rnd-dev.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Coronium Core
              </span>
              <span class="md-header-nav__topic">
                File Uploads
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../../../../imgs/rnd-dev.png" width="24" height="24">
      
    </span>
    Coronium Core
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Core Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Core Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../installation/digitalocean/" title="DigitalOcean" class="md-nav__link">
      DigitalOcean
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../installation/amazon_ls/" title="Amazon Lightsail" class="md-nav__link">
      Amazon Lightsail
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../installation/amazon/" title="Amazon EC2" class="md-nav__link">
      Amazon EC2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../installation/postinstall/" title="Post Install" class="md-nav__link">
      Post Install
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Webmin
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Webmin
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../webmin/setup/" title="Browser Access" class="md-nav__link">
      Browser Access
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../webmin/scope/" title="Application Scope" class="md-nav__link">
      Application Scope
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../webmin/mailgun/" title="Mailgun Config" class="md-nav__link">
      Mailgun Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../webmin/password/" title="Password" class="md-nav__link">
      Password
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../guide/login/" title="Logging In" class="md-nav__link">
      Logging In
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../guide/key/" title="Server Key" class="md-nav__link">
      Server Key
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../guide/usage/" title="General Usage" class="md-nav__link">
      General Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../guide/ssl/" title="HTTPS/SSL" class="md-nav__link">
      HTTPS/SSL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../guide/lifecycle/" title="Lifecycle/Context" class="md-nav__link">
      Lifecycle/Context
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../guide/mongo/" title="Disabling MongoDB" class="md-nav__link">
      Disabling MongoDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../guide/tools/" title="CLI Tools" class="md-nav__link">
      CLI Tools
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4" checked>
    
    <label class="md-nav__link" for="nav-2-4">
      Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/" title="Data" class="md-nav__link">
      Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../email/" title="Email" class="md-nav__link">
      Email
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../files/" title="Files" class="md-nav__link">
      Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4-5" type="checkbox" id="nav-2-4-5">
    
    <label class="md-nav__link" for="nav-2-4-5">
      Jobs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-4-5">
        Jobs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/api/" title="Jobs API" class="md-nav__link">
      Jobs API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../jobs/guide/" title="Jobs Guide" class="md-nav__link">
      Jobs Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../mongo/" title="Mongo" class="md-nav__link">
      Mongo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../mysql/" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/" title="Network" class="md-nav__link">
      Network
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4-9" type="checkbox" id="nav-2-4-9" checked>
    
    <label class="md-nav__link" for="nav-2-4-9">
      Pages
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-4-9">
        Pages
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../usage/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/" title="Pages API" class="md-nav__link">
      Pages API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../templates/" title="Templates" class="md-nav__link">
      Templates
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        File Uploads
      </label>
    
    <a href="./" title="File Uploads" class="md-nav__link md-nav__link--active">
      File Uploads
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#accessing-uploads" title="Accessing Uploads" class="md-nav__link">
    Accessing Uploads
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-upload-objects" title="File Upload Objects" class="md-nav__link">
    File Upload Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-uploads" title="Handling Uploads" class="md-nav__link">
    Handling Uploads
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#saving" title="Saving" class="md-nav__link">
    Saving
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discarding" title="Discarding" class="md-nav__link">
    Discarding
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-uploads" title="Multiple Uploads" class="md-nav__link">
    Multiple Uploads
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#page-upload-example" title="Page Upload Example" class="md-nav__link">
    Page Upload Example
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ajax/" title="Using AJAX" class="md-nav__link">
      Using AJAX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../html5/" title="HTML5 Builds" class="md-nav__link">
      HTML5 Builds
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../errors/" title="Error Pages" class="md-nav__link">
      Error Pages
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../template/" title="Template" class="md-nav__link">
      Template
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../timer/" title="Timer" class="md-nav__link">
      Timer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4-12" type="checkbox" id="nav-2-4-12">
    
    <label class="md-nav__link" for="nav-2-4-12">
      Users
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-4-12">
        Users
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../users/api/" title="Users API" class="md-nav__link">
      Users API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../users/oauth/" title="OAuth API" class="md-nav__link">
      OAuth API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../users/oauthusers/" title="OAuth Users" class="md-nav__link">
      OAuth Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../users/confirmations/" title="Confirmations" class="md-nav__link">
      Confirmations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../users/passwordreset/" title="Password Reset" class="md-nav__link">
      Password Reset
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/" title="Utils" class="md-nav__link">
      Utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../updates/" title="Updates" class="md-nav__link">
      Updates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../addons/" title="Add-ons" class="md-nav__link">
      Add-ons
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../extending/" title="Extending" class="md-nav__link">
      Extending
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Core Client
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Core Client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/guide/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/analytics/" title="Analytics" class="md-nav__link">
      Analytics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/core/" title="Core" class="md-nav__link">
      Core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/data/" title="Data" class="md-nav__link">
      Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/email/" title="Email" class="md-nav__link">
      Email
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/files/" title="Files" class="md-nav__link">
      Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/mysql/" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-8" type="checkbox" id="nav-3-2-8">
    
    <label class="md-nav__link" for="nav-3-2-8">
      Users
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-8">
        Users
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/users/api/" title="Users API" class="md-nav__link">
      Users API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/users/oauth/" title="OAuth API" class="md-nav__link">
      OAuth API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/users/creating/" title="Creating" class="md-nav__link">
      Creating
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/users/updating/" title="Updating" class="md-nav__link">
      Updating
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/users/login/" title="Logging In" class="md-nav__link">
      Logging In
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/modules/users/confirmation/" title="Confirmation" class="md-nav__link">
      Confirmation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../client/codes/" title="Status Codes" class="md-nav__link">
      Status Codes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../demo/" title="Demo Project" class="md-nav__link">
      Demo Project
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../screencasts/" title="Screencasts" class="md-nav__link">
      Screencasts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#accessing-uploads" title="Accessing Uploads" class="md-nav__link">
    Accessing Uploads
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-upload-objects" title="File Upload Objects" class="md-nav__link">
    File Upload Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-uploads" title="Handling Uploads" class="md-nav__link">
    Handling Uploads
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#saving" title="Saving" class="md-nav__link">
    Saving
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discarding" title="Discarding" class="md-nav__link">
    Discarding
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-uploads" title="Multiple Uploads" class="md-nav__link">
    Multiple Uploads
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#page-upload-example" title="Page Upload Example" class="md-nav__link">
    Page Upload Example
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>File Uploads</h1>
                
                <p>The Coronium Pages module supports file uploads using the 'multipart/form-data' form encoding type. These uploaded files can be stored in the Coronium <em>files</em> directory for further usage.</p>
<h2 id="accessing-uploads">Accessing Uploads</h2>
<p>Uploaded files are stored in the <code>page.files</code> property of the <code>page</code> object as <em>file objects</em>. You can access a file object by its form input name. For sake of an example, let us assume the following form to upload a file:</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span> <span class="na">enctype</span><span class="o">=</span><span class="s">&quot;multipart/form-data&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;file&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;avatar&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;avatar&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>Upload Avatar<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>


<p>Once this form is posted to the Coronium Page, you can access the "avatar" file object like so:</p>
<div class="codehilite"><pre><span></span><span class="kd">local</span> <span class="n">avatarObj</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">files</span><span class="p">.</span><span class="n">avatar</span>
</pre></div>


<h2 id="file-upload-objects">File Upload Objects</h2>
<p>File objects have a handful of properties that you can inspect. This can be helpful when looking for a specific file type or size.</p>
<p><strong>File Object Properties</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td>The raw name the uploaded file.</td>
</tr>
<tr>
<td>type</td>
<td>The file <a href="https://www.iana.org/assignments/media-types/media-types.xhtml">MIME</a> type. Example: 'image/png'.</td>
</tr>
<tr>
<td>size</td>
<td>The total file size in bytes.</td>
</tr>
</tbody>
</table>
<p>For example, to verify an upload is a <code>.png</code> image:</p>
<div class="codehilite"><pre><span></span><span class="kd">local</span> <span class="n">avatarObj</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">files</span><span class="p">.</span><span class="n">avatar</span>

<span class="kr">if</span> <span class="n">avatarObj</span><span class="p">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;image/png&#39;</span> <span class="kr">then</span>
  <span class="c1">--save file upload</span>
<span class="kr">else</span>
  <span class="c1">--wrong file type, discard upload</span>
<span class="kr">end</span>
</pre></div>


<h2 id="handling-uploads">Handling Uploads</h2>
<p>Once you have a reference to a file object, you can save it to the <em>files</em> directory on your Coronium server. </p>
<p>All uploads are stored in a temporary directory until saved. If you determine that the file is not needed, or is of the incorrect type or size, you should "discard" the uploaded file to keep this temporary directory clean (see <a href="../../../../server/modules/pages/uploads/#discarding">Discarding</a> below).</p>
<p>When you successfully save an upload, the uploaded file is automatically removed from the temporary directory.</p>
<h3 id="saving">Saving</h3>
<p>To save an uploaded file, use the <code>page.saveFile</code> method with a reference to the file object:</p>
<div class="codehilite"><pre><span></span><span class="kd">local</span> <span class="n">avatarObj</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">files</span><span class="p">.</span><span class="n">avatar</span>

<span class="kd">local</span> <span class="n">info</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">saveFile</span><span class="p">(</span><span class="n">avatarObj</span><span class="p">,</span> <span class="s1">&#39;/avatars&#39;</span><span class="p">)</span>

<span class="kr">if</span> <span class="ow">not</span> <span class="n">info</span> <span class="kr">then</span>
  <span class="n">core</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="c1">-- log error</span>
<span class="kr">else</span>
  <span class="n">core</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="s2">&quot;Saved file at &quot;</span><span class="o">..</span><span class="n">info</span><span class="p">.</span><span class="n">path</span><span class="p">)</span>
<span class="kr">end</span>
</pre></div>


<p>The <code>saveFile</code> method returns an <code>info</code> object on success. See the <strong><a href="../../../../server/modules/pages/api/#savefile">saveFile</a></strong> method for details on what keys this object exposes.</p>
<p><strong>The <code>unique</code> Flag</strong></p>
<p>By default, an uploaded file will be saved using its "raw" name as submitted by the form. To create a unique name for the file upload -- to prevent overwriting an existing file for example -- you can pass the <code>unique</code> boolean flag to the <code>saveFile</code> method.</p>
<div class="codehilite"><pre><span></span><span class="kd">local</span> <span class="n">avatarObj</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">files</span><span class="p">.</span><span class="n">avatar</span>

<span class="c1">--pass true as the third argument to create a unique name</span>
<span class="kd">local</span> <span class="n">info</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">saveFile</span><span class="p">(</span><span class="n">avatarObj</span><span class="p">,</span> <span class="s1">&#39;/avatars&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="kr">if</span> <span class="ow">not</span> <span class="n">info</span> <span class="kr">then</span>
  <span class="n">core</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="c1">-- log error</span>
<span class="kr">else</span>
  <span class="n">core</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="s2">&quot;Saved file as &quot;</span><span class="o">..</span><span class="n">info</span><span class="p">.</span><span class="n">file</span><span class="p">)</span> <span class="c1">--info.file holds the unique name</span>
<span class="kr">end</span>
</pre></div>


<p><strong>Storage Paths</strong></p>
<p>Files are stored relative to the <em>files</em> directory on your Coronium server. In the two examples above, we have provided '/avatars' as the relative path to store the image. This would result in the image being stored at <strong><em>/home/coronium/files/avatars/&lt;image-name>.png</em></strong>.</p>
<h3 id="discarding">Discarding</h3>
<p>As mentioned above, if for any reason you decide to <em>not</em> save the uploaded file, you should "discard" it to keep the temporary directory clean.</p>
<p>You can discard a file by using the <strong><a href="../../../../server/modules/pages/api/#discardfile">discardFile</a></strong> method with a reference to the file object you want to discard.</p>
<p>Expanding on the first example above:</p>
<div class="codehilite"><pre><span></span><span class="kd">local</span> <span class="n">avatarObj</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">files</span><span class="p">.</span><span class="n">avatar</span>

<span class="kr">if</span> <span class="n">avatarObj</span><span class="p">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">&#39;image/png&#39;</span> <span class="kr">then</span>
  <span class="c1">--save file upload</span>
  <span class="kd">local</span> <span class="n">info</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">saveFile</span><span class="p">(</span><span class="n">avatarObj</span><span class="p">,</span> <span class="s1">&#39;/avatars&#39;</span><span class="p">)</span>
  <span class="p">...</span>
<span class="kr">else</span>
  <span class="c1">--wrong file type, discard upload</span>
  <span class="kd">local</span> <span class="n">success</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">discardFile</span><span class="p">(</span><span class="n">avatarObj</span><span class="p">)</span>
  <span class="p">...</span>
<span class="kr">end</span>
</pre></div>


<div class="admonition note">
<p class="admonition-title">JavaScript</p>
<p>You can also check a file type or size on the browser client using JavaScript before uploading.</p>
</div>
<h2 id="multiple-uploads">Multiple Uploads</h2>
<p>Handling multiple uploads is as simple as accessing the file objects and either saving or discarding them.</p>
<p>An example multiple upload form might look like:</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span> <span class="na">enctype</span><span class="o">=</span><span class="s">&quot;multipart/form-data&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;file&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;avatar&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;avatar&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;file&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;logo&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;logo&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>Upload<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>


<p>The file objects can be accessed and saved like so:</p>
<div class="codehilite"><pre><span></span><span class="kd">local</span> <span class="n">avatarObj</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">files</span><span class="p">.</span><span class="n">avatar</span>
<span class="kd">local</span> <span class="n">logoObj</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">files</span><span class="p">.</span><span class="n">logo</span>

<span class="c1">-- Save avatar</span>
<span class="kd">local</span> <span class="n">info</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">saveFile</span><span class="p">(</span><span class="n">avatarObj</span><span class="p">,</span> <span class="s1">&#39;/avatars&#39;</span><span class="p">)</span>
<span class="kr">if</span> <span class="ow">not</span> <span class="n">info</span> <span class="kr">then</span>
  <span class="n">core</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">avatarObj</span><span class="p">.</span><span class="n">file</span><span class="o">..</span><span class="s1">&#39; had error: &#39;</span><span class="o">..</span><span class="n">err</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">-- Save logo</span>
<span class="kd">local</span> <span class="n">info</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">saveFile</span><span class="p">(</span><span class="n">logoObj</span><span class="p">,</span> <span class="s1">&#39;/logos&#39;</span><span class="p">)</span>
<span class="kr">if</span> <span class="ow">not</span> <span class="n">info</span> <span class="kr">then</span>
  <span class="n">core</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">logoObj</span><span class="p">.</span><span class="n">file</span><span class="o">..</span><span class="s1">&#39; had error: &#39;</span><span class="o">..</span><span class="n">err</span><span class="p">)</span>
<span class="kr">end</span>
</pre></div>


<h2 id="page-upload-example">Page Upload Example</h2>
<p>A very basic file upload page.</p>
<div class="codehilite"><pre><span></span><span class="c1">--# upload.lua</span>
<span class="kd">local</span> <span class="n">page</span> <span class="o">=</span> <span class="n">core</span><span class="p">.</span><span class="n">pages</span><span class="p">.</span><span class="n">new</span><span class="p">()</span>

<span class="c1">--# Generate form (GET)</span>
<span class="kd">local</span> <span class="kr">function</span> <span class="nf">renderForm</span><span class="p">()</span>
  <span class="kd">local</span> <span class="n">formBody</span> <span class="o">=</span> <span class="s">[[</span>
<span class="s">  &lt;form action=&quot;&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;</span>
<span class="s">    &lt;input type=&quot;file&quot; name=&quot;avatar&quot; id=&quot;avatar&quot;&gt;</span>
<span class="s">    &lt;button type=&quot;submit&quot;&gt;Upload&lt;/button&gt;</span>
<span class="s">  &lt;/form&gt;    </span>
<span class="s">  ]]</span>

  <span class="n">page</span><span class="p">.</span><span class="n">response</span><span class="p">(</span><span class="n">formBody</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">--# Process form (POST)</span>
<span class="kd">local</span> <span class="kr">function</span> <span class="nf">submitForm</span><span class="p">()</span>
  <span class="kd">local</span> <span class="n">avatarObj</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">files</span><span class="p">.</span><span class="n">avatar</span>

  <span class="kd">local</span> <span class="n">info</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">saveFile</span><span class="p">(</span><span class="n">avatarObj</span><span class="p">,</span> <span class="s1">&#39;/avatars&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
  <span class="kr">if</span> <span class="ow">not</span> <span class="n">info</span> <span class="kr">then</span>
    <span class="n">page</span><span class="p">.</span><span class="n">response</span><span class="p">(</span><span class="s2">&quot;File upload failed: &quot;</span><span class="o">..</span><span class="n">err</span><span class="p">)</span>
  <span class="kr">else</span>
    <span class="n">page</span><span class="p">.</span><span class="n">response</span><span class="p">(</span><span class="s2">&quot;Uploaded file: &quot;</span><span class="o">..</span><span class="n">info</span><span class="p">.</span><span class="n">file</span><span class="p">)</span>
  <span class="kr">end</span>
<span class="kr">end</span>

<span class="c1">--# Incoming Page Request</span>
<span class="kr">if</span> <span class="n">page</span><span class="p">.</span><span class="n">isGet</span> <span class="kr">then</span>
  <span class="n">renderForm</span><span class="p">()</span>
<span class="kr">elseif</span> <span class="n">page</span><span class="p">.</span><span class="n">isPost</span> <span class="kr">then</span>
  <span class="n">submitForm</span><span class="p">()</span>
<span class="kr">else</span>
  <span class="n">page</span><span class="p">.</span><span class="n">status</span><span class="p">(</span><span class="mi">501</span><span class="p">)</span>
<span class="kr">end</span>
</pre></div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../templates/" title="Templates" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Templates
              </span>
            </div>
          </a>
        
        
          <a href="../ajax/" title="Using AJAX" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Using AJAX
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy;2019 C. Byerley (develephant) | <i class="fas fa-flask fa-sm"></i> v2.7.0
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
      <a href="https://forums.coronalabs.com/forum/643-coronium/" class="md-footer-social__link"><i class="far fa-life-ring"></i></a>
    
      <a href="https://twitter.com/develephant" class="md-footer-social__link"><i class="fab fa-twitter"></i></a>
    
      <a href="http://develephant.com" class="md-footer-social__link"><i class="fas fa-globe"></i></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/application.62cfdabc.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../../../.."}})</script>
      
    
    
      
    
  </body>
</html>